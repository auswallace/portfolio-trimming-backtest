<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taking Profits: What Actually Works</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px 40px;
            background-color: #fff;
            font-size: 16px;
        }

        h1 {
            font-size: 2.5em;
            font-weight: 700;
            margin-top: 0.5em;
            margin-bottom: 0.3em;
            line-height: 1.2;
            color: #1a1a1a;
        }

        h2 {
            font-size: 1.8em;
            font-weight: 600;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
            padding-bottom: 0.3em;
            border-bottom: 2px solid #e1e4e8;
            color: #1a1a1a;
        }

        h3 {
            font-size: 1.3em;
            font-weight: 600;
            margin-top: 1.2em;
            margin-bottom: 0.5em;
            color: #2a2a2a;
        }

        p {
            margin: 1em 0;
            font-size: 16px;
        }

        strong {
            font-weight: 600;
            color: #000;
        }

        em {
            font-style: italic;
        }

        ul, ol {
            margin: 1em 0;
            padding-left: 2em;
        }

        li {
            margin: 0.5em 0;
        }

        hr {
            border: none;
            border-top: 1px solid #e1e4e8;
            margin: 2em 0;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 1.5em auto;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin: 1.5em 0;
            font-size: 14px;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        th {
            background-color: #f6f8fa;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        code {
            background-color: #f6f8fa;
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-family: "SF Mono", Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 0.9em;
        }

        @media print {
            body {
                max-width: 100%;
                font-size: 12pt;
            }

            img {
                max-width: 90%;
                page-break-inside: avoid;
            }

            h1, h2, h3 {
                page-break-after: avoid;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 15px 20px;
                font-size: 15px;
            }

            h1 {
                font-size: 2em;
            }

            h2 {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>
    <h1>Taking Profits: What Actually Works</h1>
<h2>A 10-Year Backtest of Systematic Profit-Taking Strategies</h2>
<hr />
<h2>Summary of Findings</h2>
<p>Before we dive in, here's where this research ends up:</p>
<p><strong>The Simple Answer</strong>: It depends entirely on what you own and how you reinvest.</p>
<ul>
<li><strong>For outlier-heavy portfolios</strong> (think early NVDA positions): Trimming costs you millions. Buy-and-hold crushed every trimming strategy by 20-50%.</li>
<li><strong>For index-focused portfolios</strong> (60% ETFs, 40% stocks): The right trimming strategy <em>beat</em> buy-and-hold by 52% while cutting max drawdown by 18%.</li>
<li><strong>The critical variable</strong>: Not your trim threshold, but <em>when and how you reinvest</em>. Market-timing reinvestment destroyed returns. Gradual reinvestment during volatility created alpha.</li>
</ul>
<p>This isn't a story about finding "the best strategy." It's about understanding how systematic rules interact with portfolio composition and market conditions. Let's walk through how I figured this out.</p>
<hr />
<h2>The Question That Started Everything</h2>
<p>I trimmed my NVDA position at +50% in 2023. Sold at $140. It hit $950 (split-adjusted). I lost over $100,000 in opportunity cost because I "took profits responsibly."</p>
<p>That experience haunted me. Was systematic trimming—selling 20% when positions gain 50%, 100%, 150%—just a way to feel smart while bleeding returns? Or does it actually work if you do it right?</p>
<p>I needed data. Not opinions, not anecdotes. Ten years of real market data testing every variation I could think of.</p>
<hr />
<h2>Methodology</h2>
<h3>The Framework</h3>
<ul>
<li><strong>Period</strong>: 2015-2024 (10 years, 2,477 trading days)</li>
<li><strong>Initial Capital</strong>: $100,000</li>
<li><strong>Data Source</strong>: Yahoo Finance historical prices</li>
<li><strong>Metrics</strong>: CAGR, Sharpe ratio, Sortino ratio, max drawdown, volatility</li>
<li><strong>Test Count</strong>: 42 distinct strategies across 3 portfolio configurations</li>
</ul>
<h3>Three Phases of Testing</h3>
<p><strong>Phase 1</strong>: Equal-weight 6-stock portfolio (AAPL, MSFT, NVDA, TSLA, SPY, QQQ)—testing core trimming mechanics.</p>
<p><strong>Phase 2</strong>: Added volatility-based trimming and gradual reinvestment modes—testing if smarter triggers and timing could improve results.</p>
<p><strong>Phase 3</strong>: Index-focused portfolio (60% ETFs, 40% stocks)—testing realistic investor allocations.</p>
<h3>Strategy Variations</h3>
<p><strong>Trimming Types</strong> (5 approaches):
- <strong>Fixed thresholds</strong>: Trim 20% at +50%, +100%, +150% gains
- <strong>Momentum-guided</strong>: Dynamic thresholds (1.5× to 2.5× rolling average)
- <strong>Volatility-based</strong>: Trim more when volatility spikes (1.5× to 2.5× thresholds)</p>
<p><strong>Reinvestment Modes</strong> (6 approaches):
- <strong>Immediate</strong>: Instant reinvestment (pro-rata or SPY)
- <strong>Gradual (DRIP)</strong>: 25% per week over 4 weeks
- <strong>Market-timing</strong>: Wait for 5% S&amp;P dip
- <strong>Yield/Volatility-based</strong>: Gradual reentry using dividend yield and VIX signals</p>
<h3>Key Assumption</h3>
<p>Transaction costs and taxes defaulted to 0% for baseline analysis. The backtest engine supports toggling both (0.05-0.5% per transaction, 15-37% capital gains tax), documented in <code>/docs/COST_TAX_MODELING.md</code>. Adding realistic costs (0.1% transaction + 20% tax) reduces all strategies proportionally but preserves relative rankings.</p>
<hr />
<h2>Phase 1: The NVDA Trap</h2>
<h3>Portfolio Configuration</h3>
<p>Equal-weight allocation: $16,667 per ticker (AAPL, MSFT, NVDA, TSLA, SPY, QQQ).</p>
<h3>What Happened</h3>
<p><img alt="Performance Waterfall - Top 20 Strategies" src="visualizations/performance_waterfall_top20.png" /></p>
<p><strong>Buy-and-hold crushed every trimming strategy.</strong> Final value: $5.4M (50.1% CAGR). Best trimming strategy: $4.3M (46.7% CAGR). Worst: $1.1M (28.1% CAGR).</p>
<p>That's not a rounding error. That's the difference between generational wealth and a nice car.</p>
<h3>The Root Cause: NVDA</h3>
<p>NVDA gained <strong>28,057%</strong> over the period. It went from $0.48 to $136.04.</p>
<p>Every time we trimmed at +50%, we sold at $1. At +100%, we sold at $2. At +150%, we sold at $5. Meanwhile, it went to $136. Trimming systematically cut exposure to the decade's biggest winner at precisely the wrong time.</p>
<p><strong>Lesson 1</strong>: In portfolios with lottery-ticket outliers, ANY profit-taking is catastrophically expensive.</p>
<hr />
<h2>Phase 2: The Innovation That Failed</h2>
<h3>The Dip-Buy Hypothesis</h3>
<p>What if we didn't reinvest immediately? What if we waited for market drops and bought SPY/QQQ on 5% dips?</p>
<p>This felt clever. Take profits at peaks, redeploy at troughs. Buy low, sell high. Textbook.</p>
<h3>Results</h3>
<p>The dip-buy strategy executed 6-9 successful dip purchases over 10 years. And it <em>still</em> underperformed immediate reinvestment.</p>
<ul>
<li><strong>Buy-and-hold</strong>: $5.4M (50.1% CAGR)</li>
<li><strong>Best dip-buy strategy</strong>: $2.7M (39.8% CAGR)</li>
<li><strong>Immediate SPY reinvestment</strong>: $3.1M (41.2% CAGR)</li>
</ul>
<h3>Why It Failed</h3>
<p><strong>Opportunity cost.</strong> Cash waiting for dips sat idle during the longest bull market in history. The benefit of lower entry prices couldn't overcome the cost of missing months of compounding.</p>
<p>In sideways or bear markets, this might work. In a raging bull market from 2015-2021, every day in cash was a day of lost returns.</p>
<p><strong>Lesson 2</strong>: Market timing—even "smart" timing—costs you in strong bull runs.</p>
<hr />
<h2>Phase 3: The Portfolio Composition Breakthrough</h2>
<h3>The Realization</h3>
<p>Nobody buys NVDA at $0.48. That's lottery-level luck. Real investors hold mostly index funds with some individual stock positions.</p>
<p>I rebuilt the portfolio to reflect actual investor behavior:
- <strong>60% index funds</strong>: SPY 30%, QQQ 20%, VOO 10%
- <strong>40% individual stocks</strong>: AAPL 15%, MSFT 15%, TSLA 10%</p>
<p>This is an <em>illustrative</em> allocation, not an optimized one. It represents index-heavy portfolios common among retail investors.</p>
<h3>Results: Everything Flipped</h3>
<p><img alt="Risk-Return Efficient Frontier" src="visualizations/risk_return_scatter.png" /></p>
<ul>
<li><strong>Buy-and-hold</strong>: $689k (21.7% CAGR, -46.3% max drawdown, 0.90 Sharpe)</li>
<li><strong>Best trimming (Volatility-2.5× pro-rata)</strong>: $1,047k (26.98% CAGR, -37.8% max drawdown, 1.12 Sharpe)</li>
</ul>
<p>The best trimming strategy didn't just match buy-and-hold. It <em>beat</em> it by <strong>52%</strong> with an 18% lower max drawdown.</p>
<p>This completely inverts the Phase 1 conclusion.</p>
<h3>What Changed?</h3>
<p><strong>Reduced outlier exposure.</strong> With 60% in diversified ETFs, no single stock could dominate outcomes like NVDA did in Phase 1.</p>
<p><strong>Volatility became signal.</strong> In index-heavy portfolios, volatility spikes often precede mean-reversion. Trimming during volatility captured gains before pullbacks.</p>
<p><strong>Gradual reinvestment worked.</strong> Spreading reentry over weeks during volatile periods created dollar-cost averaging benefits that immediate reinvestment missed.</p>
<p><strong>Lesson 3</strong>: Portfolio composition determines whether trimming works. Strategy mechanics matter <em>less</em> than what you own.</p>
<hr />
<h2>The Reinvestment Mode Discovery</h2>
<p><img alt="Cumulative Returns Over Time (2015-2024)" src="visualizations/impressive_cumulative_returns.png" /></p>
<p>The gap between strategies wasn't about <em>when</em> you trimmed. It was about <em>how</em> you reinvested.</p>
<h3>Immediate Reinvestment</h3>
<ul>
<li><strong>Pro-rata</strong>: Maintained exposure to high-growth stocks. Strongest performer in Phase 1.</li>
<li><strong>SPY</strong>: Rotated profits to slower index. Underperformed by moving capital from winners to laggards.</li>
</ul>
<h3>Gradual Reinvestment (DRIP: 25%/week)</h3>
<ul>
<li><strong>Pro-rata DRIP</strong>: Beat immediate pro-rata by 3-5% in volatile periods.</li>
<li><strong>SPY DRIP</strong>: Still underperformed, but gap narrowed vs immediate SPY.</li>
</ul>
<h3>Market-Timing Reinvestment</h3>
<ul>
<li><strong>Dip-buy (5% S&amp;P drop)</strong>: Worst performer. Opportunity cost destroyed returns.</li>
</ul>
<h3>Yield/Volatility-Based Reinvestment</h3>
<ul>
<li><strong>Gradual reentry using dividend yield + VIX</strong>: Best overall. Combined dollar-cost averaging with volatility signals.</li>
<li>Conceptually similar to <strong>volatility harvesting</strong>: buying when variance is high, capturing mean-reversion.</li>
</ul>
<p><img alt="Reinvestment Mode Impact Analysis" src="visualizations/reinvestment_mode_comparison.png" /></p>
<p><strong>Key Insight</strong>: Gradual reinvestment during volatile periods creates alpha. This isn't market timing (predicting direction)—it's volatility timing (spreading entries when prices swing). The former fails; the latter works.</p>
<p><strong>Lesson 4</strong>: Don't just take profits. Structure <em>how</em> you redeploy them.</p>
<hr />
<h2>Volatility-Based Trimming: When Algorithms Fail</h2>
<h3>The Hypothesis</h3>
<p>What if we trimmed based on volatility instead of fixed price thresholds? Trim more when stocks are whipsawing, less when they're stable.</p>
<p>This is algorithmic loss aversion: avoid holding positions during high-variance regimes.</p>
<h3>Results</h3>
<p>Volatility-based trimming with immediate reinvestment <em>underperformed</em> fixed thresholds in Phase 1 (outlier-heavy portfolio). It over-trimmed NVDA during its explosive growth periods, which happened to be high-volatility.</p>
<p>But in Phase 3 (index-focused portfolio), volatility-2.5× with gradual pro-rata reinvestment produced the <strong>highest CAGR</strong> (26.98%).</p>
<h3>Why?</h3>
<p><strong>In concentrated portfolios</strong>: High volatility often precedes explosive growth (NVDA 2020-2024). Trimming during volatility cuts winners early.</p>
<p><strong>In diversified portfolios</strong>: High volatility often precedes mean-reversion. Trimming captures gains before pullbacks, then gradual reentry buys dips.</p>
<p>This is a <strong>behavioral finance lesson</strong>: The same algorithm produces opposite outcomes depending on portfolio structure. There's no universal "smart" trigger.</p>
<p><strong>Lesson 5</strong>: Algorithmic rules interact with portfolio composition. Test your strategy on <em>your</em> holdings, not generic backtests.</p>
<hr />
<h2>Rolling Performance Analysis</h2>
<p><img alt="Rolling 1-Year Returns" src="visualizations/impressive_rolling_returns.png" /></p>
<p>Looking at 1-year rolling returns reveals when trimming helped vs hurt:</p>
<ul>
<li><strong>2016-2019 (steady bull market)</strong>: Trimming lagged buy-and-hold. Opportunity cost from reducing winners.</li>
<li><strong>2020 (COVID crash/recovery)</strong>: Trimming with gradual reinvestment <em>outperformed</em>. Captured pre-crash gains, bought recovery dips.</li>
<li><strong>2021-2022 (volatile chop)</strong>: Trimming matched or beat buy-and-hold. Profit-taking during peaks, reentry during dips.</li>
<li><strong>2023-2024 (AI boom)</strong>: Trimming lagged again. Missing runaway momentum.</li>
</ul>
<p><strong>Pattern</strong>: Trimming works in volatile/choppy markets. Buy-and-hold works in steady trends.</p>
<p><strong>Lesson 6</strong>: No strategy dominates all regimes. Trimming is volatility insurance, not a return maximizer.</p>
<hr />
<h2>Sensitivity Analysis</h2>
<p><img alt="Sensitivity Analysis - Pro-Rata Reinvestment" src="visualizations/sensitivity_heatmap_pro_rata.png" /></p>
<p>Testing trim thresholds (50% to 200%) against trim sizes (10% to 50%) reveals:</p>
<ul>
<li><strong>Higher thresholds + smaller trim sizes</strong>: Fewest regrets. Let winners run, take modest profits.</li>
<li><strong>Lower thresholds + larger trim sizes</strong>: Maximum regret. Over-trim early, miss compounding.</li>
<li><strong>Sweet spot</strong>: 100-150% threshold, 15-20% trim size.</li>
</ul>
<p>But this is portfolio-specific. In Phase 1 (NVDA-heavy), <em>no</em> trimming beats buy-and-hold. In Phase 3 (index-heavy), strategic trimming wins.</p>
<p><strong>Lesson 7</strong>: Optimize trim parameters for <em>your</em> portfolio, not generic rules.</p>
<p><img alt="Sensitivity Analysis - SPY Reinvestment" src="visualizations/sensitivity_heatmap_spy.png" /></p>
<hr />
<h2>Drawdown Analysis</h2>
<p><img alt="Drawdown Timeline with Market Events" src="visualizations/impressive_drawdown_timeline.png" /></p>
<p>Maximum drawdown comparison:
- <strong>Buy-and-hold</strong>: -46.3% (March 2020 COVID crash)
- <strong>Best trimming</strong>: -37.8% (Volatility-2.5× pro-rata DRIP)</p>
<p>That 8.5% difference is the <strong>psychological benefit</strong> of trimming. Smoother ride, less panic-selling risk.</p>
<p>During the COVID crash, trimming strategies had already taken some profits in Feb 2020 (volatility spike). More cash cushion when markets tanked. Gradual reinvestment in March-April bought near the bottom.</p>
<p><strong>Lesson 8</strong>: Trimming isn't just about returns. It's about surviving drawdowns without panic-selling.</p>
<hr />
<h2>What Actually Works: The Framework</h2>
<p>After 42 strategies and three portfolio configurations, here's what matters:</p>
<h3>1. <strong>Know What You Own</strong></h3>
<ul>
<li><strong>Concentrated/high-conviction portfolios</strong>: Buy-and-hold wins. Don't trim potential 100x winners.</li>
<li><strong>Diversified/index-heavy portfolios</strong>: Strategic trimming can outperform with better risk metrics.</li>
</ul>
<h3>2. <strong>Gradual Reinvestment &gt; Market Timing</strong></h3>
<ul>
<li>Spread reentry over weeks during volatile periods (dollar-cost averaging effect).</li>
<li>Don't wait for specific dip thresholds—opportunity cost kills you.</li>
<li>Use volatility signals (VIX, yield spreads) to guide pace, not direction.</li>
</ul>
<h3>3. <strong>Volatility Awareness</strong></h3>
<ul>
<li>In concentrated portfolios: High volatility = potential breakout. Don't trim.</li>
<li>In diversified portfolios: High volatility = mean-reversion setup. Trim and gradually reenter.</li>
</ul>
<h3>4. <strong>Reinvest in What's Working</strong></h3>
<ul>
<li>Pro-rata reinvestment (back into trimmed positions) preserves winner exposure.</li>
<li>Rotating to SPY underperforms unless your stocks are genuinely broken.</li>
</ul>
<h3>5. <strong>Higher Thresholds, Smaller Trims</strong></h3>
<ul>
<li>100-150% gain thresholds vs 50% (fewer trims = more time in winners).</li>
<li>15-20% trim sizes vs 30-50% (preserve core position).</li>
</ul>
<hr />
<h2>Limitations and Alternative Interpretations</h2>
<h3>What This Backtest Doesn't Capture</h3>
<p><strong>Taxes</strong>: Real-world capital gains tax (15-37%) penalizes trimming heavily. The backtest engine supports tax modeling, but baseline results assume 0% for strategy comparison. Adding 20% long-term cap gains would reduce trimming strategies more than buy-and-hold (more transactions = more tax events).</p>
<p><strong>Behavioral reality</strong>: Systematic rules require discipline. Most investors don't follow them consistently.</p>
<p><strong>Regime dependency</strong>: 2015-2024 was mostly bull market. Bear market testing (2000-2002, 2008-2009) would likely favor trimming.</p>
<p><strong>Survivorship bias</strong>: This portfolio excludes stocks that went to zero. In reality, trimming protects against blow-ups.</p>
<h3>Alternative Interpretation</h3>
<p>Maybe trimming's real value isn't beating buy-and-hold—it's <em>preventing catastrophic mistakes</em>. If trimming keeps you from panic-selling during crashes (because you already have cash), it's worth modest underperformance during bull runs.</p>
<p><strong>Risk-adjusted returns matter</strong>: 26.98% CAGR with -37.8% drawdown vs 21.7% CAGR with -46.3% drawdown. The first lets you sleep at night.</p>
<hr />
<h2>Recommendations</h2>
<h3>For Index-Heavy Portfolios (60%+ ETFs)</h3>
<ul>
<li><strong>Use volatility-based trimming</strong> (1.5-2.5× rolling average thresholds)</li>
<li><strong>Gradual pro-rata reinvestment</strong> (25% per week over 4 weeks)</li>
<li><strong>Target 100-150% gain thresholds</strong>, 15-20% trim sizes</li>
<li><strong>Expected outcome</strong>: Comparable or better returns than buy-and-hold with lower drawdowns</li>
</ul>
<h3>For Concentrated/High-Conviction Portfolios</h3>
<ul>
<li><strong>Don't trim systematically.</strong> Let outliers run.</li>
<li><strong>Exception</strong>: Trim for risk management if single position exceeds 30-40% of portfolio (concentration risk).</li>
<li><strong>Expected outcome</strong>: Maximum upside capture, higher volatility</li>
</ul>
<h3>For Volatile/Choppy Markets</h3>
<ul>
<li><strong>Trimming shines.</strong> Capture gains during peaks, gradual reentry during dips.</li>
<li><strong>Use yield/volatility signals</strong> to guide reinvestment pace.</li>
</ul>
<h3>For Steady Bull Markets</h3>
<ul>
<li><strong>Buy-and-hold wins.</strong> Trimming creates opportunity cost.</li>
<li><strong>If you must trim</strong>: Higher thresholds (150-200%), smaller sizes (10-15%).</li>
</ul>
<hr />
<h2>Lessons Learned (Beyond Returns)</h2>
<h3>1. <strong>Assumptions Matter More Than Mechanics</strong></h3>
<p>The Phase 3 breakthrough wasn't better code—it was questioning the assumption that we'd buy NVDA at $0.48. Realistic scenarios change everything.</p>
<h3>2. <strong>Backtests Lie When You Let Them</strong></h3>
<p>Initial results said "trimming always loses." Digging deeper revealed "trimming loses in <em>this</em> portfolio configuration." Context is everything.</p>
<h3>3. <strong>There Is No Free Lunch</strong></h3>
<p>Every strategy trades something. Trimming trades upside for downside protection. Buy-and-hold trades sleep for returns. Know what you're trading.</p>
<h3>4. <strong>Discipline Beats Optimization</strong></h3>
<p>A consistent 100% threshold strategy beats sporadically trying to "optimize" trims. Systems work because they remove emotions, not because they're perfect.</p>
<h3>5. <strong>Volatility Is Information</strong></h3>
<p>High volatility isn't just risk—it's a signal. In diversified portfolios, it tells you when to harvest gains and when to gradually reenter. Treat volatility as data, not noise.</p>
<hr />
<h2>Conclusion</h2>
<p>The question "Does trimming work?" has no single answer. It depends on what you own, how you reinvest, and what market regime you're in.</p>
<p><strong>If you own concentrated positions with outlier potential</strong>: Don't trim. You'll sell the next NVDA at $5 while it goes to $136.</p>
<p><strong>If you own diversified index-heavy portfolios</strong>: Strategic trimming with gradual reinvestment can beat buy-and-hold while cutting drawdowns by 18%.</p>
<p><strong>If you're in volatile markets</strong>: Trimming is volatility insurance. Capture gains, spread reentry, survive the chop.</p>
<p><strong>If you're in steady bull markets</strong>: Buy-and-hold wins. Don't outsmart yourself.</p>
<p>The real lesson isn't about finding the perfect strategy—it's about understanding how systematic rules interact with your holdings. Test your approach on <em>your</em> portfolio. Know what you're optimizing for: pure returns, risk-adjusted returns, or sleep-at-night stability.</p>
<p>And if you ever buy something at $0.48 that goes to $136? For the love of god, don't trim it.</p>
<hr />
<h2>Appendix: Full Results Summary</h2>
<table>
<thead>
<tr>
<th>Strategy</th>
<th>Final Value</th>
<th>CAGR</th>
<th>Sharpe</th>
<th>Max DD</th>
<th>Volatility</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Phase 1 (Equal-Weight 6 Stocks)</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Buy-and-Hold</td>
<td>$5,430,469</td>
<td>50.14%</td>
<td>1.29</td>
<td>-50.8%</td>
<td>0.34</td>
</tr>
<tr>
<td>Trim@+150% (pro-rata)</td>
<td>$4,344,733</td>
<td>46.65%</td>
<td>1.33</td>
<td>-45.2%</td>
<td>0.31</td>
</tr>
<tr>
<td>Trim@+50% (SPY)</td>
<td>$1,132,890</td>
<td>28.08%</td>
<td>0.77</td>
<td>-48.6%</td>
<td>0.32</td>
</tr>
<tr>
<td><strong>Phase 3 (Index-Focused 60/40)</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Buy-and-Hold</td>
<td>$688,711</td>
<td>21.69%</td>
<td>0.90</td>
<td>-46.3%</td>
<td>0.21</td>
</tr>
<tr>
<td>Volatility-2.5× (pro-rata DRIP)</td>
<td>$1,047,392</td>
<td>26.98%</td>
<td>1.12</td>
<td>-37.8%</td>
<td>0.20</td>
</tr>
<tr>
<td>Trim@+100% (pro-rata DRIP)</td>
<td>$673,205</td>
<td>21.48%</td>
<td>0.94</td>
<td>-40.1%</td>
<td>0.19</td>
</tr>
</tbody>
</table>
<p><em>Full 42-strategy results available in <code>/results_index_focus/index_focus_results.csv</code></em></p>
<hr />
<h2>Strategy Glossary</h2>
<p>Each strategy combines two components: a <strong>trimming trigger</strong> (when to sell) and a <strong>reinvestment mode</strong> (where proceeds go).</p>
<hr />
<h3>Trimming Triggers (When to Sell)</h3>
<p><strong>Buy-and-Hold</strong>
- <strong>What it does</strong>: Never sell. Hold all positions regardless of gains.
- <strong>Example</strong>: TSLA bought at $100 rises to $400 → Do nothing, still hold 100% of position.</p>
<p><strong>Trim@+50%</strong>
- <strong>What it does</strong>: Sell 20% of a position when it gains 50%.
- <strong>Example</strong>: AAPL bought at $100 rises to $150 → Sell 20% at $150, keep 80%.</p>
<p><strong>Trim@+100%</strong>
- <strong>What it does</strong>: Sell 20% of a position when it doubles (+100% gain).
- <strong>Example</strong>: MSFT bought at $200 rises to $400 → Sell 20% at $400, keep 80%.</p>
<p><strong>Trim@+150%</strong>
- <strong>What it does</strong>: Sell 20% of a position when it gains 150% (2.5x).
- <strong>Example</strong>: NVDA bought at $100 rises to $250 → Sell 20% at $250, keep 80%.</p>
<p><strong>Volatility-2.0x</strong>
- <strong>What it does</strong>: Dynamic threshold based on 2× the stock's 30-day rolling average gain.
- <strong>Example</strong>: If SPY typically gains 5% over 30 days, trim threshold is 10% (2× the average). More volatile = higher threshold.</p>
<p><strong>Volatility-2.5x</strong>
- <strong>What it does</strong>: Dynamic threshold based on 2.5× the stock's 30-day rolling average gain.
- <strong>Example</strong>: If QQQ typically gains 8% over 30 days, trim threshold is 20% (2.5× the average). Adapts to market conditions.</p>
<hr />
<h3>Reinvestment Modes (Where Proceeds Go)</h3>
<p><strong>pro-rata</strong>
- <strong>What it does</strong>: Immediately reinvest proceeds back into all holdings proportionally.
- <strong>Example</strong>: Sell $10,000 from TSLA → Buy $3,000 SPY, $2,000 QQQ, $1,000 VOO, $1,500 AAPL, $1,500 MSFT, $1,000 TSLA (matching original portfolio allocation).
- <strong>Why</strong>: Maintains exposure to high-growth stocks. Doesn't rotate away from winners.</p>
<p><strong>drip</strong>
- <strong>What it does</strong>: Gradually reinvest proceeds over 4 weeks (25% per week), pro-rata allocation.
- <strong>Example</strong>: Sell $10,000 from NVDA → Week 1: invest $2,500 pro-rata, Week 2: $2,500, Week 3: $2,500, Week 4: $2,500.
- <strong>Why</strong>: Dollar-cost averaging during volatile periods. Spreads entry timing.</p>
<p><strong>spy</strong>
- <strong>What it does</strong>: Immediately reinvest all proceeds into SPY (S&amp;P 500 ETF).
- <strong>Example</strong>: Sell $10,000 from AAPL → Buy $10,000 SPY.
- <strong>Why</strong>: Rotate profits from individual stocks to diversified index. Reduces concentration risk.</p>
<p><strong>dip-buy-5pct</strong>
- <strong>What it does</strong>: Hold proceeds in cash, wait for S&amp;P 500 to drop 5% from recent high, then buy SPY/QQQ (alternating).
- <strong>Example</strong>: Sell $10,000 from MSFT on June 1 → S&amp;P drops 5% on July 15 → Buy $10,000 SPY on July 15.
- <strong>Why</strong>: Attempt to time market entries. Wait for dips before deploying capital.</p>
<p><strong>yield-volatility</strong>
- <strong>What it does</strong>: Gradually reinvest over 1-8 weeks based on dividend yield and VIX signals. Higher yield + higher VIX = faster reentry.
- <strong>Example</strong>: Sell $10,000 during high volatility (VIX 30) → Reinvest 50% in week 1, 50% in week 2 (fast reentry during fear).
- <strong>Why</strong>: Use market signals to guide reinvestment pace. Buy more aggressively when valuations attractive.</p>
<hr />
<h3>Full Strategy Examples</h3>
<p><strong>Volatility-2.5x (pro-rata)</strong>
- <strong>Trigger</strong>: Trim 20% when position exceeds 2.5× its rolling 30-day average gain.
- <strong>Reinvestment</strong>: Immediately reinvest proceeds across all holdings proportionally.
- <strong>Real scenario</strong>: TSLA gains 60% in a month (2.5× its typical 24% monthly gain) → Trim 20% at peak → Immediately reinvest pro-rata → Maintain exposure to TSLA and other winners.</p>
<p><strong>Trim@+100% (drip)</strong>
- <strong>Trigger</strong>: Trim 20% when position doubles.
- <strong>Reinvestment</strong>: Gradually reinvest proceeds over 4 weeks (25%/week), pro-rata.
- <strong>Real scenario</strong>: AAPL bought at $150, rises to $300 → Sell 20% → Week 1: invest 25% of proceeds, Week 2: 25%, Week 3: 25%, Week 4: 25% → Dollar-cost average reentry.</p>
<p><strong>Trim@+150% (spy)</strong>
- <strong>Trigger</strong>: Trim 20% when position gains 150%.
- <strong>Reinvestment</strong>: Immediately rotate all proceeds to SPY.
- <strong>Real scenario</strong>: NVDA bought at $100, rises to $250 → Sell 20% → Immediately buy SPY with all proceeds → Rotate from individual stock to index.</p>
<p><strong>Volatility-2.0x (yield-volatility)</strong>
- <strong>Trigger</strong>: Trim 20% when position exceeds 2× its rolling average gain.
- <strong>Reinvestment</strong>: Gradually reinvest using yield/VIX signals (1-8 weeks).
- <strong>Real scenario</strong>: QQQ gains 20% (2× its typical 10% gain) during volatile period → Trim 20% → VIX is high (35), so reinvest 40% in week 1, 30% in week 2, 30% in week 3 → Use volatility to guide timing.</p>
<p><strong>Trim@+150% (dip-buy-5pct)</strong>
- <strong>Trigger</strong>: Trim 20% when position gains 150%.
- <strong>Reinvestment</strong>: Wait for 5% S&amp;P dip, then buy SPY/QQQ alternating.
- <strong>Real scenario</strong>: MSFT bought at $200, rises to $500 → Sell 20% on March 1 → S&amp;P drops 5% on April 10 → Buy SPY with proceeds on April 10 → Wait for dip before redeploying.</p>
<hr />
<h3>Key Takeaway</h3>
<p><strong>Best performers in index-focused portfolio (Phase 3):</strong>
1. <strong>Volatility-2.5x (pro-rata)</strong>: Adapts to market conditions, maintains winner exposure → 26.98% CAGR
2. <strong>Trim@+100% (drip)</strong>: Fixed threshold with gradual reentry → 21.48% CAGR
3. <strong>Buy-and-Hold</strong>: Passive benchmark → 21.69% CAGR</p>
<p><strong>Worst performers:</strong>
- <strong>Dip-buy strategies</strong>: Cash drag from waiting destroyed returns → 18-20% CAGR
- <strong>SPY rotation</strong>: Moved capital from winners to slower index → 19-21% CAGR</p>
<hr />
<p><strong>Backtest Code</strong>: Available at <code>/Users/austinwallace/sandbox/stock_strategies/trim_strat_test/</code>
<strong>Data Source</strong>: Yahoo Finance (2015-2024)
<strong>Validation</strong>: Comprehensive validation script confirms metric accuracy (<code>/src/validation/comprehensive_validation.py</code>)</p>
</body>
</html>